!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.streamy=e()}}(function(){return function e(r,n,t){function i(u,a){if(!n[u]){if(!r[u]){var f="function"==typeof require&&require;if(!a&&f)return f(u,!0);if(o)return o(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[u]={exports:{}};r[u][0].call(d.exports,function(e){var n=r[u][1][e];return i(n?n:e)},d,d.exports,e,r,n,t)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<t.length;u++)i(t[u]);return i}({1:[function(e,r){function n(e,r){if(r&&!Array.isArray(r))throw new TypeError("Expected sequence to be an Array");r=r||[];var n={array:e,sequence:r};n.appendOperation=i.bind(n);var l=function(e){return t(Array.isArray(e)?{array:e,sequence:n.sequence}:n)};return Object.defineProperty(l,"filter",{value:i.bind(n,"filter")}),Object.defineProperty(l,"forEach",{value:i.bind(n,"forEach")}),Object.defineProperty(l,"map",{value:i.bind(n,"map")}),Object.defineProperty(l,"reduce",{value:n.appendOperation.bind(n,"reduce")}),Object.defineProperty(l,"every",{value:a.bind(n)}),Object.defineProperty(l,"find",{value:f.bind(n)}),Object.defineProperty(l,"findIndex",{value:c.bind(n)}),Object.defineProperty(l,"join",{value:d.bind(n)}),Object.defineProperty(l,"some",{value:p.bind(n)}),Object.defineProperty(l,"fill",{value:o.bind(n)}),Object.defineProperty(l,"slice",{value:u.bind(n)}),l}function t(e){function r(){b=h&&!0}for(var n,t,i,o,u,a,f,c=e.array,d=c.length,p=e.sequence,l=p.length,s=[],y=!1,b=!1,h=!0,v=[],O=0;d>O;++O){t=c[O],i=!1;for(var j=0;l>j;++j)switch(v[j]=void 0===v[j]?-1:v[j],v[j]+=1,o=p[j][0],u=p[j][1],a=p[j][2],f=p[j][3],o){case"filter":u.call(a,t,v[j],r)||(i=!0,j=l);break;case"forEach":h=!1,u.call(a,t,v[j],r);break;case"map":t=u.call(a,t,v[j],r);break;case"reduce":if(i=!0,y=!0,0===v[j]){if(f.length<3){n=t;break}n=a}n=u(n,t,v[j],r),j=l}if(i||s.push(t),b)break}return y?n:s}function i(e,r,t){if("reduce"===e&&arguments.length<3&&0==this.array.length)throw new TypeError("Reduce of empty array with no initial value");var i=this.sequence.slice();return i.push([e,r,t,arguments]),n(this.array,i)}function o(e,r,n){return r=r||0,n=n||this.array.length,this.appendOperation("map",function(t,i){return i>=r&&n>i?e:t})}function u(e,r){return e=e||0,this.appendOperation("filter",function(n,t,i){return t===r&&i(),t>=e&&(!r||r>t)})}function a(e){return this.appendOperation("reduce",function(r,n,t){return r&&e(n,t)},!0)}function f(e){return this.appendOperation("reduce",function(r,n,t,i){return void 0!==r?r:e(n,t)?(i(),n):void 0},void 0)}function c(e){return this.appendOperation("reduce",function(r,n,t,i){return r>-1?r:e(n,t,array)?(i(),t):-1},-1)}function d(e){return e=void 0===e?",":String(e),this.appendOperation("reduce",function(r,n){return r+e+n})}function p(e){return this.appendOperation("reduce",function(r,n,t,i){return e(n,t)?(i(),!0):r||!1},!1)}r.exports=n},{}]},{},[1])(1)});